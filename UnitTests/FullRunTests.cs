using Containervervoer.Logic;
using Containervervoer.Logic.Objects;
using Microsoft.VisualStudio.TestTools.UnitTesting;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace UnitTests
{
    [TestClass]
    public class FullRunTests
    {
        [TestMethod]
        public void NormalSmallShipFullContainers()
        {
            Ship ship = new Ship(5, 2);
            ship.PlaceAllContainers(ContainerFactory.MakeContainers(4, 8, 25));

            string expected = "https://i872272core.venus.fhict.nl/ContainerVisualizer/index.html?length=5&width=2&stacks=33332,11111,111,,11112/33332,11111,,1111,11112&weights=30-30-30-30-30,30-30-30-30-30,30-30-30,,30-30-30-30-30/30-30-30-30-30,30-30-30-30-30,,30-30-30-30,30-30-30-30-30";
            string actual = VisualizerURLBuilder.BuildURL(ship);

            Assert.AreEqual(expected, actual);
        }

        [TestMethod]
        public void NormalBigShipEmptyContainers()
        {
            Ship ship = new Ship(10, 5);
            ship.PlaceAllContainers(ContainerFactory.MakeContainersEmpty(10, 100, 1000));

            string expected = "https://i872272core.venus.fhict.nl/ContainerVisualizer/index.html?length=10&width=5&stacks=3333333333333333333333333333332,1111111111111111111111111111111,1111111111111111111111111111111,1111111111111111111111111111111,1111111111111111111111111111111,,,1111111111,1111111111111111111111111111111,1111111111111111111111111111112/3333333333333333333333333333332,1111111111111111111111111111111,1111111111111111111111111111111,1111111111111111111111111111111,111111111111111,,,1111111111111111111111111111111,1111111111111111111111111111111,1111111111111111111111111111112/3333333333333333333333333333332,1111111111111111111111111111111,1111111111111111111111111111111,1111111111111111111111111111111,,,,1111111111111111111111111111111,1111111111111111111111111111111,1111111111111111111111111111112/3333333333111111111111111111112,1111111111111111111111111111111,1111111111111111111111111111111,1111111111111111111111111111111,,,,1111111111111111111111111111111,1111111111111111111111111111111,1111111111111111111111111111112/1111111111111111111111111111112,1111111111111111111111111111111,1111111111111111111111111111111,1111111111111111111111111111111,,,,1111111111111111111111111111111,1111111111111111111111111111111,1111111111111111111111111111112&weights=4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,,,4-4-4-4-4-4-4-4-4-4,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4/4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,,,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4/4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,,,,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4/4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,,,,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4/4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,,,,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4,4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4-4";
            string actual = VisualizerURLBuilder.BuildURL(ship);

            Assert.AreEqual(expected, actual);
        }

        [TestMethod]
        public void NotEnoughContainerWeightGivesException()
        {
            Ship ship = new Ship(5, 2);
            bool caught;

            try
            {
                ship.PlaceAllContainers(ContainerFactory.MakeContainersEmpty(1, 1, 1));
                caught = false;
            }
            catch (Exception)
            {
                caught = true;
            }

            Assert.IsTrue(caught);
            
        }
    }
}
